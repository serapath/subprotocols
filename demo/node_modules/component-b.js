const bel = require('bel')
const csjs = require('csjs-inject')

module.exports = componentB

function componentB (protocol) {

  const text = protocol('text')(onText)
  const _class = protocol('.componentB')(onClass)

  var span
  const element = bel`<div>
    <h1> component B </h1>
    ${span = bel`<span></span>`}
    <button onclick=${setRandomText}>set</button>
  </div>`

  text('foobar')
  _class(css.componentB)
  return element
  function onText ({ body: val }) { span.textContent = val }
  function onClass ({ body: val }) { element.setAttribute('class', val) }
  function setRandomText (event) {
    text(`some random text B${`${Math.random()}`.slice(2)}`)
  }
}
const css = csjs`
.componentB {
  border: 3px dashed yellow;
}`
